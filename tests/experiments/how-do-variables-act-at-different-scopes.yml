variables:
  - group: Experimental-VariablesAndScope-ForPipeline
  - template: PipelineVariableTemplate.yml
  - name: PipelineVariable
    value: PipelineVariableValue

stages:
  - stage:
    variables:
      - group: Experimental-VariablesAndScope-ForStage
      - template: StageVariableTemplate.yml
      - name: StageVariable
        value: StageVariableValue
    jobs:
      - job:
        variables:
          - group: Experimental-VariablesAndScope-ForJob
          - template: JobVariableTemplate.yml
          - name: JobVariable
            value: JobVariableValue
        steps:
          - script: |
              echo "All of the Template Variables"
              echo "TemplateVariableForPipeline: '$(TemplateVariableForPipeline)'"
              echo "TemplateVariableForStage: '$(TemplateVariableForStage)'"
              echo "TemplateVariableForJob: '$(TemplateVariableForJob)'"
              echo "All of the Library Variable Group Variables"
              echo "NonSecretVariable for Pipeline '$(nonSecretVariable-ForPipeline)'"
              echo "NonSecretVariable for Stage '$(nonSecretVariable-ForStage)'"
              echo "NonSecretVariable for Job '$(nonSecretVariable-ForJob)'"
              echo "All of the Normal Variables"
              echo "PipelineVariable '$(PipelineVariable)'"
              echo "StageVariable '$(StageVariable)'"
              echo "JobVariable '$(JobVariable)'"
