trigger:
  batch: true
  branches:
    include:
      - features/infrastructure-pipeline/*

resources:
  repositories:
    - repository: PipelineTemplates
      type: github
      endpoint: UKHO
      name: UKHO/devops-azdo-yaml-pipeline-templates
      ref: $(Build.SourceBranch)

pool: $(PipelinePool) # Variable defined within template, overridable via template parameter 'PipelinePool'.

extends:
  template: pipelines/infrastructure_pipeline.yml@PipelineTemplates
  parameters:
    RelativePathToTerraformFiles: tests/pipelines/infrastructure_pipeline/terraform
