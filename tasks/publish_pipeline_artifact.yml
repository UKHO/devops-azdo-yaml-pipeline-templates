# Template: Utility - Publish Pipeline Artifact
# Purpose: Standardized wrapper for PublishPipelineArtifact@1 task
# Underlying Task: PublishPipelineArtifact@1
# Usage: Publish build artifacts to Azure DevOps pipeline
# Notes: filepath publish location is not implemented

parameters:
  - name: ArtifactName
    type: string
    default: 'Drop'
    displayName: 'Name of the artifact to publish'

  - name: TargetPath
    type: string
    default: '$(Pipeline.Workspace)'
    displayName: 'Path to files or folder to publish'

  - name: Properties
    type: string
    default: ''
    displayName: 'Custom properties for the artifact'

steps:
  - task: PublishPipelineArtifact@1
    displayName: "Publish Pipeline Artifact '${{ parameters.ArtifactName }}'"
    inputs:
      artifact: ${{ parameters.ArtifactName }}
      targetPath: ${{ parameters.TargetPath }}
      publishLocation: 'pipeline'

      # Optional parameters with conditional inclusion
      ${{ if ne(parameters.Properties, '') }}:
        properties: ${{ parameters.Properties }}
