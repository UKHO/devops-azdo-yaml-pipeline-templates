parameters:
  - name: RelativePathToTerraformFiles
    type: string
    displayName: "Target Path to Terraform files (.tf,.tfvars) that require publishing as artifact."

jobs:
  - job: PublishTerraformArtifact
    variables:
      terraformTargetPath: $(Build.SourcesDirectory)/${{ parameters.RelativePathToTerraformFiles }}
    workspace:
      clean: all
    displayName: "Publish Terraform Artifact"
    steps:
      - template: ../tasks/publish_pipeline_artifact.yml
        parameters:
          TargetPath: ${{ variables.terraformTargetPath }}
          ArtifactName: "TerraformArtifact"
